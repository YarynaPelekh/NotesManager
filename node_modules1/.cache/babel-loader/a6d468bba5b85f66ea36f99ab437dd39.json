{"ast":null,"code":"var _jsxFileName = \"D:\\\\Yaryna\\\\HebronSoft\\\\React\\\\practice\\\\notes-app\\\\src\\\\components\\\\Auth\\\\RequireAuth.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Navigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RequireAuth = props => {\n  _s();\n\n  let location = useLocation();\n  const [isLoggedIn, setIsLoggedIn] = useState(true);\n  const userName = localStorage.getItem(\"userName\");\n  const timerExpired = Number(localStorage.getItem(\"timerExpires\")) < Number(new Date().getTime());\n  useEffect(() => {\n    const timer = setInterval(() => {\n      if (Number(localStorage.getItem(\"timerExpires\")) < Number(new Date().getTime())) {\n        setIsLoggedIn(false);\n        localStorage.removeItem(\"userName\");\n        localStorage.removeItem(\"timerExpires\");\n      }\n    }, 1000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  if (!userName || timerExpired) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 12\n    }, this);\n  }\n\n  return props.children;\n};\n\n_s(RequireAuth, \"rO+u6XE4rr/fJclNxJUkdY2PDK8=\", false, function () {\n  return [useLocation];\n});\n\n_c = RequireAuth;\nexport default RequireAuth;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequireAuth\");","map":{"version":3,"names":["useEffect","useState","Navigate","useLocation","RequireAuth","props","location","isLoggedIn","setIsLoggedIn","userName","localStorage","getItem","timerExpired","Number","Date","getTime","timer","setInterval","removeItem","clearTimeout","from","children"],"sources":["D:/Yaryna/HebronSoft/React/practice/notes-app/src/components/Auth/RequireAuth.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Navigate, useLocation } from \"react-router-dom\";\r\n\r\nconst RequireAuth = (props: { children: JSX.Element }) => {\r\n  let location = useLocation();\r\n  const [isLoggedIn, setIsLoggedIn] = useState(true);\r\n\r\n  const userName = localStorage.getItem(\"userName\");\r\n  const timerExpired = Number(localStorage.getItem(\"timerExpires\")) < Number(new Date().getTime());\r\n\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      if (Number(localStorage.getItem(\"timerExpires\")) < Number(new Date().getTime())) {\r\n        setIsLoggedIn(false);\r\n        localStorage.removeItem(\"userName\");\r\n        localStorage.removeItem(\"timerExpires\");\r\n      }\r\n    }, 1000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  if (!userName || timerExpired) {\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  return props.children;\r\n};\r\n\r\nexport default RequireAuth;\r\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,kBAAtC;;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAsC;EAAA;;EACxD,IAAIC,QAAQ,GAAGH,WAAW,EAA1B;EACA,MAAM,CAACI,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,CAAC,IAAD,CAA5C;EAEA,MAAMQ,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;EACA,MAAMC,YAAY,GAAGC,MAAM,CAACH,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAD,CAAN,GAA+CE,MAAM,CAAC,IAAIC,IAAJ,GAAWC,OAAX,EAAD,CAA1E;EAEAf,SAAS,CAAC,MAAM;IACd,MAAMgB,KAAK,GAAGC,WAAW,CAAC,MAAM;MAC9B,IAAIJ,MAAM,CAACH,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAD,CAAN,GAA+CE,MAAM,CAAC,IAAIC,IAAJ,GAAWC,OAAX,EAAD,CAAzD,EAAiF;QAC/EP,aAAa,CAAC,KAAD,CAAb;QACAE,YAAY,CAACQ,UAAb,CAAwB,UAAxB;QACAR,YAAY,CAACQ,UAAb,CAAwB,cAAxB;MACD;IACF,CANwB,EAMtB,IANsB,CAAzB;IAOA,OAAO,MAAMC,YAAY,CAACH,KAAD,CAAzB;EACD,CATQ,EASN,EATM,CAAT;;EAWA,IAAI,CAACP,QAAD,IAAaG,YAAjB,EAA+B;IAC7B,oBAAO,QAAC,QAAD;MAAU,EAAE,EAAC,QAAb;MAAsB,KAAK,EAAE;QAAEQ,IAAI,EAAEd;MAAR,CAA7B;MAAiD,OAAO;IAAxD;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAED,OAAOD,KAAK,CAACgB,QAAb;AACD,CAvBD;;GAAMjB,W;UACWD,W;;;KADXC,W;AAyBN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}