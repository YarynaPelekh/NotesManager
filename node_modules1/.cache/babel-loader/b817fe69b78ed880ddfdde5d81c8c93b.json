{"ast":null,"code":"var _jsxFileName = \"D:\\\\Yaryna\\\\HebronSoft\\\\React\\\\practice\\\\notes-app\\\\src\\\\components\\\\Folders\\\\DirectoryItem.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport EasyEdit, { Types } from \"react-easy-edit\";\nimport { useDispatch } from \"react-redux\";\nimport ChosenDirectory from \"./ChosenDirectory\";\nimport { directoriesActions } from \"../../store/directories-slice\";\nimport { appStateActions } from \"../../store/app-state-slice\";\nimport { NotificationTypes } from \"../../types/NotificationTypes\";\nimport classes from \"../../styles/Module/DirectoryItem.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DirectoryItem = props => {\n  _s();\n\n  let notificationText = \"The directory renamed successfully\";\n  let notificationType = NotificationTypes.alertLight;\n  const dispatch = useDispatch();\n\n  const saveEdit = async value => {\n    const fetchData = async () => {\n      const response = await fetch(\"http://localhost:3000/directories/\" + props.item.id, {\n        method: \"PUT\",\n        body: JSON.stringify({\n          id: props.item.id,\n          parentId: props.item.parentId,\n          name: value\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Something went wrong/ sending data to backend!\");\n      }\n\n      dispatch(directoriesActions.updateDirectory(Object.assign({}, props.item, {\n        name: value\n      })));\n    };\n\n    try {\n      await fetchData().catch(error => {\n        throw new Error(error.message);\n      });\n    } catch (error) {\n      if (error instanceof Error) {\n        notificationText = error.message;\n        notificationType = NotificationTypes.alertDanger;\n      }\n    }\n\n    dispatch(appStateActions.setState({\n      showNotification: true,\n      notificationType: notificationType,\n      notificationMessage: notificationText\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: classes.li,\n    children: [/*#__PURE__*/_jsxDEV(NavLink, {\n      className: _ref => {\n        let {\n          isActive\n        } = _ref;\n        return `${classes.directory} ${isActive ? classes.chosen : null}`;\n      },\n      to: `/directories/${props.item.id}`,\n      children: [/*#__PURE__*/_jsxDEV(EasyEdit, {\n        type: Types.TEXT,\n        onSave: saveEdit // onCancel={}\n        ,\n        saveButtonLabel: \"Save\",\n        cancelButtonLabel: \"Cancel\",\n        attributes: {\n          name: \"awesome-input\",\n          id: 1\n        },\n        value: props.item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChosenDirectory, {\n        directoryId: props.item.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, props.item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), props.children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DirectoryItem, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = DirectoryItem;\nexport default DirectoryItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"DirectoryItem\");","map":{"version":3,"names":["React","NavLink","EasyEdit","Types","useDispatch","ChosenDirectory","directoriesActions","appStateActions","NotificationTypes","classes","DirectoryItem","props","notificationText","notificationType","alertLight","dispatch","saveEdit","value","fetchData","response","fetch","item","id","method","body","JSON","stringify","parentId","name","headers","ok","Error","updateDirectory","Object","assign","catch","error","message","alertDanger","setState","showNotification","notificationMessage","li","isActive","directory","chosen","TEXT","children"],"sources":["D:/Yaryna/HebronSoft/React/practice/notes-app/src/components/Folders/DirectoryItem.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { NavLink, useParams } from \"react-router-dom\";\r\nimport EasyEdit, { Types } from \"react-easy-edit\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { PropsDirectoryItem } from \"../../types/DirectoryTypes\";\r\n\r\nimport ChosenDirectory from \"./ChosenDirectory\";\r\n\r\nimport { directoriesActions } from \"../../store/directories-slice\";\r\nimport { appStateActions } from \"../../store/app-state-slice\";\r\n\r\nimport { NotificationTypes } from \"../../types/NotificationTypes\";\r\n\r\nimport classes from \"../../styles/Module/DirectoryItem.module.css\";\r\n\r\nconst DirectoryItem = (props: PropsDirectoryItem) => {\r\n  let notificationText = \"The directory renamed successfully\";\r\n  let notificationType = NotificationTypes.alertLight;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const saveEdit = async (value) => {\r\n    const fetchData = async () => {\r\n      const response = await fetch(\"http://localhost:3000/directories/\" + props.item.id, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({\r\n          id: props.item.id,\r\n          parentId: props.item.parentId,\r\n          name: value,\r\n        }),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong/ sending data to backend!\");\r\n      }\r\n\r\n      dispatch(directoriesActions.updateDirectory(Object.assign({}, props.item, { name: value })));\r\n    };\r\n\r\n    try {\r\n      await fetchData().catch((error) => {\r\n        throw new Error(error.message);\r\n      });\r\n    } catch (error) {\r\n      if (error instanceof Error) {\r\n        notificationText = error.message;\r\n        notificationType = NotificationTypes.alertDanger;\r\n      }\r\n    }\r\n\r\n    dispatch(\r\n      appStateActions.setState({\r\n        showNotification: true,\r\n        notificationType: notificationType,\r\n        notificationMessage: notificationText,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <li className={classes.li}>\r\n      <NavLink\r\n        className={({ isActive }) => `${classes.directory} ${isActive ? classes.chosen : null}`}\r\n        to={`/directories/${props.item.id}`}\r\n        key={props.item.id}\r\n      >\r\n        <EasyEdit\r\n          type={Types.TEXT}\r\n          onSave={saveEdit}\r\n          // onCancel={}\r\n          saveButtonLabel=\"Save\"\r\n          cancelButtonLabel=\"Cancel\"\r\n          attributes={{ name: \"awesome-input\", id: 1 }}\r\n          value={props.item.name}\r\n        />\r\n        <ChosenDirectory directoryId={props.item.id} />\r\n      </NavLink>\r\n\r\n      {props.children}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default DirectoryItem;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}